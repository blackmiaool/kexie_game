<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>通用列表编辑器</title>
    <script src="js/jquery.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/angular-contenteditable.js"></script>
    <script src="js/angular-drag-and-drop-lists.js"></script>
    <script src="js/angular-animate.js"></script>
    <script src="js/underscore.js"></script>
    <script src="js/editor.js"></script>
    <script src="js/angular-contextmenu.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <style>
        html,body{
            background-color: white;
        }
    </style>
</head>

<body ng-app="main" ng-controller="mainController">
    <div id="editor-wrap">
       <textarea ng-bind="tables|json" readonly cols="30" rows="10"></textarea>
       <textarea ng-bind="tables|md" readonly cols="120" rows="10"></textarea>
       <h5>上下方向键换行 alt+d清除格子</h5>
        <div ng-repeat="(tableName,table) in tables" class="table-wrap">
            <table data-table="{{tableName}}" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th ng-repeat="(key,value) in table[0]" ng-bind="key"  context-menu="headerOptions"></th>   
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="(li,obj) in table track by obj.name ">
                        <td ng-keydown="onKeyDown($event,$index,$parent.$index,tableName,k)" contenteditable="" ng-repeat="(k,v) in obj" ng-model="obj[k]" data-column="{{$index}}"  data-row="{{$parent.$index}}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

</body>

</html>